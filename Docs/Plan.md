# План автоматизации тестирования веб-сервиса покупки туров

## 1. Перечень автоматизируемых сценариев

### 1.1. UI-тесты (форма оплаты по карте / форма кредита)

### 1.1.1 Валидация данных в полях формы

#### Поле `Номер карты`
Номер карты 1111 2222 3333 4444 - `APPROVED` (операция одобрена)<br/>
Номер карты 5555 6666 7777 8888 - `DECLINED` (операция отклонена)  

**Допустимые значения для поля `Номер карты`:**
- Тип данных: Цифры от 0 до 9.
- Длина: Строго 16 цифр.

`Пример: 1234 3451 3253 5435`

#### Поле `Месяц`

**Допустимые значения для поля `Месяц`:**
- Тип данных: цифры в формате от `01 до 12`
- Длина: Строго 2 цифры.

`Пример: 05`

#### Поле `Год`

**Допустимые значения для поля `Год`:**<br/>

_Указывается последние две цифры года_
- Тип данных: цифры в формате от `01 до 99`
- Длина: Строго 2 цифры.

`Пример: 26`

#### Комбинации полей `Месяц` и `Год`
Валидной комбинацией является текущий месяц и год или позже, но не позднее 6 лет.

`Пример: 07.26`

#### Поле `Владелец`

**Допустимые значения для поля `Владелец`:**<br/>
- Тип данных: символы латиницы и пробелы 
- Длина: от 2 до 30 символов 

`Пример: NIKOLAY FEDOROV`

#### Поле `CVC/CCV`

**Допустимые значения для поля `CVC/CCV`:**<br/>
- Тип данных: Цифры от 0 до 9
- Длина: Строго 3 цифры

`Пример: 453`

### 1.1.2 Подготовка к тестированию

**Для проверки оплаты картой:**
1. Открыть главный экран приложения/сайта. 
2. Кликнуть по кнопке **"Купить"**.

**Для проверки кредитного платежа:**
1. Зайти на стартовую страницу сервиса.
2. Кликнуть по кнопке **"Купить в кредит"**.

### 1.1.3 Тестовые сценарии

#### Позитивные сценарии:

1. **Успешная оплата APPROVED-картой с заполнением полей формы валидными значениями**.
    * Ввести в форму заявки в поле "Номер карты" `1111 2222 3333 4444`
    * Заполнить поля `"Месяц", "Год", "Владелец", "CVC/CVV"` валидными данными
    * Нажать кнопку "Продолжить"
   
**Ожидаемый результат:** Платеж одобрен. На странице формы заявки отображается всплывающее сообщение:<br/>
**"Успешно! Операция одобрена Банком."** В СУБД создается в столбце `status` запись `APPROVED`.


2. **Отказ в оплате DECLINED-картой с заполнением полей формы валидными значениями**.
    * Ввести в форму заявки в поле "Номер карты" `5555 6666 7777 8888`
    * Заполнить поля `"Месяц", "Год", "Владелец", "CVC/CVV"` валидными данными
    * Нажать кнопку "Продолжить"
   
 **Ожидаемый результат:** Платеж отклонен. На странице формы заявки отображается всплывающее сообщение:<br/>
 **"Ошибка! Банк отказал в выполнении операции."** В СУБД создается в столбце `status` запись `DECLINED `.

#### Негативные сценарии:

3. **Отправка формы с номером несуществующей карты (не `APPROVED`/`DECLINED`) и валидными значениями в остальных полях.**
   * Ввести в форму заявки в поле "Номер карты"  любое валидное значение кроме `APPROVED`/`DECLINED` (Например `1134 2225 36534 4654`)
   * Заполнить поля `"Месяц", "Год", "Владелец", "CVC/CVV"` валидными данными
   * Нажать кнопку "Продолжить"

**Ожидаемый результат:** Платеж отклонен. На странице формы заявки отображается всплывающее сообщение:<br/>
**"Ошибка! Банк отказал в выполнении операции."** В СУБД не создается запись.

4. **Отправка формы с пустым полем `Номер карты` и валидными значениями в остальных полях.**
   * Заполнить поля `"Месяц", "Год", "Владелец", "CVC/CVV"` валидными данными.
   * Поле `Номер карты` оставить пустым.
   * Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется.Сообщение об ошибке: `Поле обязательно для заполнения` под полем `Номер карты`.


5. **Отправка формы с пустым полем `Месяц` и валидными значениями в остальных полях.**
   * Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
   * Заполнить поля `"Год", "Владелец", "CVC/CVV"` валидными данными. 
   * Поле `Месяц` оставить пустым.
   * Нажать кнопку **"Продолжить"**
   
   
**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Поле обязательно для заполнения` под полем `Месяц`.

6. **Отправка формы с пустым полем `Год` и валидными значениями в остальных полях.**
   * Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
   * Заполнить поля `"Месяц", "Владелец", "CVC/CVV"` валидными данными.
   * Поле `Год` оставить пустым.
   * Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Поле обязательно для заполнения` под полем `Год`.

7. **Отправка формы с пустым полем `Владелец` и валидными значениями в остальных полях.**
   * Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
   * Заполнить поля `"Месяц", "Год", "CVC/CVV"` валидными данными.
   * Поле `Владелец` оставить пустым.
   * Нажать кнопку **"Продолжить"**

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Поле обязательно для заполнения` под полем `Владелец`.

8. **Отправка формы с пустым полем `CVC/CVV` и валидными значениями в остальных полях.**
   * Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
   * Заполнить поля `"Месяц", "Год", "Владелец"` валидными данными.
   * Поле `CVC/CVV` оставить пустым.
   * Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Поле обязательно для заполнения` под полем `CVC`.

9. **Ввод в поле `Номер карты` значения меньше допустимой длины и отправка формы.**
   * Заполнить поля `"Месяц", "Год", "Владелец", "CVC"` валидными данными.
   * Заполнить поле `Номер карты` значением меньше 16 символов (Например :`2415 1245 7423 345`).
   * Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверный формат` под полем `Номер карты`.

10. **Ввод в поле `Номер карты` значения больше допустимой длины.**
   * Ввести в поле `Номер карты` значение больше 16 символов (Например :`4577 1455 1164 77345`).

**Ожидаемый результат:** В поле `Номер карты` вводится 16 символов, дальнейший ввод не происходит.

11. **Ввод в поле `Номер карты` значения содержащее спецсимволы.**
   * Ввести в поле `Номер карты` значение содержащее спецсимволы (Например :`"!№%:?`).

**Ожидаемый результат:** Ввод в поле `Номер карты` не происходит.

12. **Ввод в поле `Номер карты` значения содержащее латиницу.**
* Ввести в поле `Номер карты` значение содержащее текст на латинице (Например :`number`).

**Ожидаемый результат:** Ввод в поле `Номер карты` не происходит.

13. **Ввод в поле `Номер карты` значения содержащее кириллицу.**
* Ввести в поле `Номер карты` значение содержащее текст на кириллице (Например :`номер`).

**Ожидаемый результат:** Ввод в поле `Номер карты` не происходит.

14. **Отправка формы со значением превышающим максимальное в поле `Месяц`  и валидными значениями в остальных полях.**
   * Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
   * Заполнить поля `"CVC/CVV", "Год", "Владелец"` валидными данными.
   * Заполнить поле `Месяц` значением больше допустимого (Например :`13`).
   * Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверно указан срок действия карты` под полем `Месяц`.

15. **Отправка формы со значением `0` в поле `Месяц`  и валидными значениями в остальных полях.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"CVC/CVV", "Год", "Владелец"` валидными данными.
* Заполнить поле `Месяц` значением `0`.
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверный формат` под полем `Месяц`.

16. **Отправка формы со значением не соответствующем валидному формату в поле `Месяц`  и валидными значениями в остальных полях.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"CVC/CVV", "Год", "Владелец"` валидными данными.
* Заполнить поле `Месяц` значением от 1 до 9 (Например `6`).
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверный формат` под полем `Месяц`.

17. **Ввод в поле `Месяц` значения содержащее спецсимволы.**
* Ввести в поле `Месяц` значение содержащее спецсимволы (Например :`??№!`).

**Ожидаемый результат:** Ввод в поле `Месяц` не происходит.

18. **Ввод в поле `Месяц` значения содержащее кириллицу.**
* Ввести в поле `Месяц` значение содержащее текст на кириллице (Например :`янв`).

**Ожидаемый результат:** Ввод в поле `Месяц` не происходит.

19. **Ввод в поле `Месяц` значения содержащее латиницу.**
* Ввести в поле `Месяц` значение содержащее текст на латиницу (Например :`dec`).

**Ожидаемый результат:** Ввод в поле `Месяц` не происходит.

20. **Отправка формы со значением `0` в поле `Год`  и валидными значениями в остальных полях.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"CVC/CVV", "Месяц", "Владелец"` валидными данными.
* Заполнить поле `Год` значением `0`.
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверный формат` под полем `Год`.

21. **Отправка формы со значением не соответствующем валидному формату в поле `Год`  и валидными значениями в остальных полях.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"CVC/CVV", "Месяц", "Владелец"` валидными данными.
* Заполнить поле `Год` значением от 1 до 9 (Например `2`).
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверный формат` под полем `Год`.

22. **Ввод в поле `Год` значения содержащее спецсимволы.**
* Ввести в поле `Год` значение содержащее спецсимволы (Например :`??№!`).

**Ожидаемый результат:** Ввод в поле `Год` не происходит.

23. **Ввод в поле `Год` значения содержащее кириллицу.**
* Ввести в поле `Год` значение содержащее текст на кириллице (Например :`янв`).

**Ожидаемый результат:** Ввод в поле `Год` не происходит.

24. **Ввод в поле `Год` значения содержащее латиницу.**
* Ввести в поле `Год` значение содержащее текст на латиницу (Например :`dec`).

**Ожидаемый результат:** Ввод в поле `Год` не происходит.

25. **Отправка формы со значением поля `Год`  меньше текущего года.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"CVC/CVV", "Владелец","Месяц"` валидными данными.
* Заполнить поле `Год` значением меньше текущего года (Например, сейчас 2025г., тогда вводим  `23`).
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Истёк срок действия карты` под полем `Год`.

26. **Отправка формы с датой до текущего месяца, но в текущем году.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"CVC/CVV", "Владелец"` валидными данными.
* Заполнить поле `Год` значением текущего года (Например, сейчас 2025г., тогда вводим  `25`).
* Заполнить поле `Месяц` значением менее текущего месяца (Например, сейчас май, тогда вводим  `04`).
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверно указан срок действия карты` под полем `Месяц`.

27. **Отправка формы со значением поля `Владелец` меньше допустимой длины и валидными значениями в остальных полях.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"CVC/CVV", "Месяц", "Год"` валидными данными.
* Заполнить поле `Владелец` значением из одной латинской буквы (Например `L`).
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверный формат` под полем `Владелец`.

28. **Ввод в поле `Владелец` значения содержащее спецсимволы.**
* Ввести в поле `Владелец` значение содержащее спецсимволы (Например :`@$^"`).

**Ожидаемый результат:** Ввод в поле `Владелец` не происходит.

29. **Ввод в поле `Владелец` значения содержащее кириллицу.**
* Ввести в поле `Владелец` значение содержащее текст на кириллице (Например :`Паша`).

**Ожидаемый результат:** Ввод в поле `Владелец` не происходит.

30. **Ввод в поле `Владелец` значения содержащее цифры.**
* Ввести в поле `Владелец` значение содержащее текст на латиницу (Например :`127`).

**Ожидаемый результат:** Ввод в поле `Владелец` не происходит.

31. **Ввод в поле `Владелец` значения превышающего максимальную длину.**
* Ввести в поле `Владелец` значение на латинице превышающее максимальную длину в 30 символов (Например :`AlexanderAlexanderAlexanderAlexander`).

**Ожидаемый результат:** В поле `Владелец карты` вводится 30 символов, дальнейший ввод не происходит.

32. **Отправка формы со значением `0` в поле `CVC/CVV`  и валидными значениями в остальных полях.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"Владелец", "Месяц", "Год"` валидными данными.
* Заполнить поле `CVC/CVV` значением  `0`.
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверный формат` под полем `CVC/CVV`

33. **Отправка формы со значением поля `CVC/CVV` меньше допустимой длины и валидными значениями в остальных полях.**
* Заполнить поле `Номер карты` данными `1111 2222 3333 4444`.
* Заполнить поля `"Владелец", "Месяц", "Год"` валидными данными.
* Заполнить поле `Владелец` значением из двух цифр (Например `56`).
* Нажать кнопку **"Продолжить"**.

**Ожидаемый результат:** Форма не отправляется. Сообщение об ошибке: `Неверный формат` под полем `CVC/CVV`.

34. **Ввод в поле `CVC/CVV` значения содержащее спецсимволы.**
* Ввести в поле `CVC/CVV` значение содержащее спецсимволы (Например :`";%"`).

**Ожидаемый результат:** Ввод в поле `CVC/CVV` не происходит.

35. **Ввод в поле `CVC/CVV` значения содержащее кириллицу.**
* Ввести в поле `CVC/CVV` значение содержащее текст на кириллице (Например :`ЦВЦ`).

**Ожидаемый результат:** Ввод в поле `CVC/CVV` не происходит.

36. **Ввод в поле `CVC/CVV` значения содержащее латиницу.**
* Ввести в поле `CVC/CVV` значение содержащее текст на латиницу (Например :`CVC`).

**Ожидаемый результат:** Ввод в поле `CVC/CVV` не происходит.

37. **Ввод в поле `CVC/CVV` значения превышающего максимальную длину.**
* Ввести в поле `CVC/CVV` цифровое значение превышающее максимальную длину в 3 символа (Например :`2456`).

**Ожидаемый результат:** В поле `Владелец карты` вводится 3 символа, дальнейший ввод не происходит.

### 1.2 API-тесты

Тестирование ендпоинта `/api/v1/pay`

38. **Успешная оплата `APPROVED`-картой с остальными валидными значениями через** POST **запрос**.
   * Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий `APPROVED` Номер карты и остальные валидные данные.<br/> Например `POST {number: "1111 2222 3333 444", year: "27", month: "04", holder: "IVAN PETROV", cvc: "214"}`.

**Ожидаемый результат:** Код ответа сервера: `200`:<br/> Тело ответа `{"status":"APPROVED}`.

39. **Отказ в оплате `DECLINED`-картой с остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий `DECLINED` Номер карты и остальные валидные данные.<br/> Например `POST {number: "5555 6666 7777 8888", year: "29", month: "01", holder: "ARTEM ZDANOV", cvc: "119"}`.

**Ожидаемый результат:** Код ответа сервера: `200`:<br/> Тело ответа `{"status":"DECLINED}`.

40. **Отправка формы с несуществующей картой (не `APPROVED`/`DECLINED`) с остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "26", month: "08", holder: "ARTUR PIROZKOV", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

41. **Отправка формы с длиной значения ключа `year` больше максимального с, `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "2667", month: "08", holder: "ARTEM PIROZKOV", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

42. **Отправка формы с длиной значения ключа `year` меньше максимального, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "5", month: "08", holder: "ARTUR MILLER", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

43. **Отправка формы со значения ключа `year` содержащим спецсимволы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: ":*?(", month: "08", holder: "ARTUR GUZEEV", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

44. **Отправка формы со значения ключа `year` содержащим латинские символы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "abc", month: "08", holder: "PETER PIROZKOV", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

45. **Отправка формы со значения ключа `year` содержащим символы кириллицы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "год", month: "08", holder: "ZEKA PIROZKOV", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

46. **Отправка формы с длиной значения ключа `month` больше максимального с, `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "26", month: "086", holder: "ARTUR STEPHAN", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

47. **Отправка формы с длиной значения ключа `month` меньше максимального, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "5", month: "8", holder: "ARTUR LOPES", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

48. **Отправка формы со значения ключа `month` содержащим спецсимволы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "27", month: "!@@", holder: "FILIN FILIN", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

49. **Отправка формы со значения ключа `month` содержащим латинские символы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "27", month: "mon", holder: "ZHORA PIROZKOV", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

50. **Отправка формы со значения ключа `month` содержащим символы кириллицы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "29", month: "ыфа", holder: "NASTY GIRL", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

51. **Отправка формы с длиной значения ключа `CVC` больше максимального с, `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "26", month: "06", holder: "ARTUR STEPHAN", cvc: "2441"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

52. **Отправка формы с длиной значения ключа `CVC` меньше максимального, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "5", month: "11", holder: "ARTUR LOPES", cvc: "24"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

53. **Отправка формы со значения ключа `CVC` содержащим спецсимволы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "27", month: "04", holder: "FILIN FILIN", cvc: "@#@"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

54. **Отправка формы со значения ключа `CVC` содержащим латинские символы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "27", month: "08", holder: "ZHORA PIROZKOV", cvc: "acs"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

55. **Отправка формы со значения ключа `CVC` содержащим символы кириллицы, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "29", month: "06", holder: "NASTY GIRL", cvc: "вып"}`.

**Ожидаемый результат:** Код ответа сервера: `400`:<br/> Тело ответа содержит `"error": "Bad Request"`.

56. **Отправка формы со значения ключа `year` меньше текущего, с `APPROVED` картой и остальными валидными значениями через** POST **запрос**.
* Направить на `http://localhost:8080/api/v1/pay` POST запрос содержащий валидный номер карты не являющейся `APPROVED`/`DECLINED` и остальные валидные данные.<br/> Например `POST {number: "2202 3456 7890 1234", year: "24", month: "08", holder: "ARTUR GUZEEV", cvc: "244"}`.

**Ожидаемый результат:** Код ответа сервера: `200`:<br/> Тело ответа `{"status":"DECLINED}`.


## 2. Перечень инструментов с обоснованием

| Инструмент        | Назначение                       | Обоснование                                                               |
|-------------------|----------------------------------|---------------------------------------------------------------------------|
| **Java 11**       | Базовый язык разработки          | Стабильная LTS-версия с хорошей производительностью и поддержкой          |
| **IDEA**          | Интегрированная среда разработки | Умное автодополнение, встроенные инструменты тестирования и отладки       |
| **Selenium**      | UI-автоматизация                 | Поддержка браузеров, удобство интеграции с Java                           |
| **JUnit5**        | Фреймворк для тестов             | Гибкость, поддержка параметризованных тестов                              |
| **AssertJ**       | Проверки (assertions)            | Читаемый синтаксис, богатый набор проверок для коллекций, строк, объектов |
| **RestAssured**   | API-тестирование                 | Удобство работы с HTTP-запросами                                          |
| **Faker**         | Генерация тестовых данных        | Генерация случайных тестовых данных для избегания эффекта "Пестицида"     |
| **Lombok**        | Автоматическая генерация методов | Сокращение кода, удобство использования                                   |
| **Gson**          | Работа с API                     | Упрощения работы с API, сокращение лишнего кода                           |
| **Allure Report** | Отчётность                       | Визуализация результатов                                                  |
| **Docker**        | Развёртывание БД                 | Изоляция тестовой среды (MySQL)                                           |
| **Gradle**        | Сборка проекта                   | Управление зависимостями, запуск тестов                                   |
| **GitHub CI**     | CI                               | Автоматический прогон тестов                                              |

## 3. Возможные риски

1. **Нестабильность UI-тестов** - из-за задержек рендеринга
2. **Проблемы с доступом к внешнему сервису (Payment/Credit Gate)** - общий сервис может быть перегружен/недоступен
3. **Ошибки в конфигурации БД** - некорректные настройки `application.properties`
4. **Изменение структуры формы** - тесты потребуют доработки
5. **Ограниченные тестовые данные** - только 2 карты (`APPROVED`/`DECLINED`)

## 4. Оценка времени с учётом рисков

| Этап                | Оптимистично (ч) | Пессимистично (ч) | Итог (ч) |
|---------------------|------------------|-------------------|----------|
| Настройка окружения | 4                | 8                 | 6        |
| Написание UI-тестов | 12               | 20                | 16       |
| Проверка СУБД       | 6                | 10                | 8        |
| Интеграция Allure   | 2                | 4                 | 3        |
| Отчётность          | 4                | 8                 | 6        |
| **Итого**           | **28**           | **50**            | **39**   |

## 5. План сдачи работ

| Этап                     | Срок (дни) | Результат                                   |
|--------------------------|------------|---------------------------------------------|
| Настройка среды и БД     | 1-2        | Готовность Docker + SUT + тестовой БД       |
| Реализация UI-тестов     | 3-5        | Автотесты для одной формы                   |
| Проверка СУБД + отчёты   | 6          | Allure-отчёт + проверка записей в БД        |
| Финализация документации | 7          | `Plan.md`, `Report.md`, `Summary.md`        |
| Сдача проекта            | 8          | Публикация репозитория с тестами и отчётами |


